
# rust里面的指针

在Rust中，指针是一种用于引用内存地址的类型，它们允许您直接访问内存中的数据。以下是有关Rust中指针的一些基本信息：  
  
- Rust中有两种指针类型：引用和裸指针。  
- 引用是一种安全的指针类型，它们允许您访问内存中的数据，但不允许您修改它们。  
- 裸指针是一种不安全的指针类型，它们允许您直接访问内存中的数据，并且可以修改它们。  
- Rust中的裸指针分为两种类型：`*const T`和`*mut T`，分别表示不可变和可变的指针。  
  
以下是一个使用引用和裸指针的示例代码：
```rust
fn main() {
    let mut x = 10;
    let y = &x; // 创建一个不可变引用
    let z = &mut x; // 创建一个可变引用
    let p = &x as *const i32; // 创建一个不可变裸指针
    let q = &mut x as *mut i32; // 创建一个可变裸指针

    unsafe {
        *q = 20; // 使用可变裸指针修改值
        println!("x = {}, *y = {}, *p = {}", x, *y, *p);
    }
}
```

在上面的示例中，我们首先定义了一个整数x，然后创建了一个不可变引用y和一个可变引用z。接下来，我们使用as关键字将引用转换为裸指针，并创建了一个不可变裸指针p和一个可变裸指针q。最后，我们使用unsafe关键字和裸指针修改了x的值，并打印了x、y和p的值。  
  
请注意，使用裸指针需要谨慎，因为它们可以绕过Rust的安全检查，并导致内存安全问题。因此，您应该尽可能使用引用，只有在必要时才使用裸指针，并使用unsafe关键字来标记不安全的代码块。